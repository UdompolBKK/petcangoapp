# üîß ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ MySQL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Migration

## ‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏ü‡∏•‡πå Config ‡πÅ‡∏•‡πâ‡∏ß!

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏ü‡∏•‡πå migration scripts ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ config ‡πÅ‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏®‡∏π‡∏ô‡∏¢‡πå‡πÅ‡∏•‡πâ‡∏ß

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß:
- ‚úÖ `mysql.config.js` - ‡πÑ‡∏ü‡∏•‡πå config ‡∏´‡∏•‡∏±‡∏Å
- ‚úÖ `scripts/test-connection.js` - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
- ‚úÖ `scripts/migrate-facilities.js` - Migration ‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å
- ‚úÖ `scripts/migrate-provinces.js` - Migration ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
- ‚úÖ `scripts/migrate-blogs.js` - Migration ‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°
- ‚úÖ `scripts/migrate-hotels.js` - Migration ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å
- ‚úÖ `scripts/migrate-all.js` - ‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

## üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

### 1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç MySQL Password

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `mysql.config.js` ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç password:

```javascript
export const mysqlConfig = {
  host: 'localhost',
  user: 'root',
  password: 'root',  // üëà ‡πÉ‡∏™‡πà password ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
  database: 'dsignweb_petallow'
}
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á password ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢:**
- Docker: `root`
- MAMP: `root`
- XAMPP: (‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠ `''`)
- Homebrew: ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏≠‡∏ô install

---

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ MySQL Server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà

**‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Docker:**
```bash
docker ps | grep mysql
```

**‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Homebrew:**
```bash
brew services list | grep mysql
```

**‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î:**
```bash
# Docker
docker start mysql-petcango

# Homebrew
brew services start mysql
```

---

### 3. Import SQL File (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥)

```bash
mysql -u root -p dsignweb_petallow < ~/Desktop/dsignweb_petallow.sql
```

‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ñ‡∏≤‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô MySQL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

---

### 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

```bash
npm run migrate:test
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**
```
‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: 4 tests
‚ùå ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: 0 tests
üéâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Migration!
```

---

### 5. ‡∏£‡∏±‡∏ô Migration

**‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥):**
```bash
npm run migrate:all
```

**‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡∏•‡∏∞‡∏≠‡∏±‡∏ô:**
```bash
npm run migrate:facilities
npm run migrate:provinces
npm run migrate:blogs
npm run migrate:hotels
```

---

## üêõ Troubleshooting

### ‚ùå Error: Access denied for user 'root'@'localhost'

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Password ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö password ‡πÉ‡∏ô `mysql.config.js`
2. ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ MySQL ‡∏î‡πâ‡∏ß‡∏¢ command line:
   ```bash
   mysql -u root -p
   ```
3. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ reset password ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á MySQL

---

### ‚ùå Error: Unknown database 'dsignweb_petallow'

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ import SQL file

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   ```bash
   mysql -u root -p -e "CREATE DATABASE dsignweb_petallow CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
   ```

2. Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   ```bash
   mysql -u root -p dsignweb_petallow < ~/Desktop/dsignweb_petallow.sql
   ```

---

### ‚ùå Error: connect ECONNREFUSED 127.0.0.1:3306

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** MySQL Server ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- Docker: `docker start mysql-petcango`
- Homebrew: `brew services start mysql`
- MAMP/XAMPP: ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÅ‡∏•‡∏∞ start MySQL

---

### ‚ùå Error: Cannot find module './serviceAccountKey.json'

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ß‡∏≤‡∏á Service Account Key

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å [Firebase Console](https://console.firebase.google.com/)
2. ‡πÑ‡∏õ Project Settings ‚Üí Service Accounts
3. ‡∏Å‡∏î "Generate New Private Key"
4. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô `serviceAccountKey.json` ‡∏ó‡∏µ‡πà root ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

---

## üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠

‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
- [MIGRATION_GUIDE.md](MIGRATION_GUIDE.md) - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°
- [scripts/README.md](scripts/README.md) - ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ
- [MIGRATION_SUMMARY.md](MIGRATION_SUMMARY.md) - ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
